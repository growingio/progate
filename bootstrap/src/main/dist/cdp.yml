app: graphql-gateway
units:
  - name: graphql-gateway
    ports:
      - name: jmx_exporter
        protocol: http
      - name: http
        protocol: http
    command: "{{ app_deploy_dir}}/bin/bootstrap -Dconfig.file={{ app_deploy_dir}}/conf/gateway.yaml -Dlog4j.configurationFile={{ app_deploy_dir}}/conf/log4j2.xml"

resources:
  - resource: redis
    name: graphql_gateway

configs:
  - path: conf/gateway.yaml.tpl
  - path: conf/log4j2.xml.tpl
  - path: conf/metrics.yml

custom_configs:
  - name: cache_enabled
    default: true
  - name: olap_pool
    default: qs
